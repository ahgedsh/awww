(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)i=o[d],n[i]&&v.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={0:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,1]),a()})({0:function(t,e,a){t.exports=a("Vtdi")},"3oym":function(t,e,a){},"4MoD":function(t,e,a){"use strict";var s=a("M7yK"),n=a.n(s);n.a},"4XZJ":function(t,e,a){"use strict";var s=a("fLbn"),n=a.n(s);n.a},"5Bql":function(t,e,a){"use strict";var s=a("PnDl"),n=a.n(s);n.a},"5V9/":function(t,e,a){"use strict";var s=a("OI9X"),n=a.n(s);n.a},"5jws":function(t,e,a){},"5ul3":function(t,e,a){},"66Yi":function(t,e,a){"use strict";var s=a("Laua"),n=a.n(s);n.a},"7K6e":function(t,e,a){},"7lyW":function(t,e,a){},"87MF":function(t,e,a){"use strict";var s=a("5jws"),n=a.n(s);n.a},"93Eu":function(t,e,a){},"A0++":function(t,e,a){"use strict";var s=a("BPUQ"),n=a.n(s);n.a},AfhG:function(t,e,a){"use strict";var s=a("kV7I"),n=a.n(s);n.a},BPUQ:function(t,e,a){},DdiC:function(t,e,a){"use strict";var s=a("5ul3"),n=a.n(s);n.a},FGOX:function(t,e,a){"use strict";var s=a("MCC/"),n=a.n(s);n.a},FfIg:function(t,e,a){"use strict";var s=a("NjmE"),n=a.n(s);n.a},GcCp:function(t,e,a){"use strict";var s=a("sMeU"),n=a.n(s);n.a},I3xT:function(t,e,a){"use strict";var s=a("ajls"),n=a.n(s);n.a},KtAA:function(t,e,a){"use strict";var s=a("7lyW"),n=a.n(s);n.a},Laua:function(t,e,a){},M7yK:function(t,e,a){},"MCC/":function(t,e,a){},N7nn:function(t,e,a){"use strict";var s=a("oJI0"),n=a.n(s);n.a},NjmE:function(t,e,a){},OI9X:function(t,e,a){},PnDl:function(t,e,a){},RtD5:function(t,e,a){"use strict";var s=a("ncdz"),n=a.n(s);n.a},SWiN:function(t,e,a){t.exports=a.p+"img/wechat.e338c964.jpg"},Sun4:function(t,e,a){},TFOK:function(t,e,a){"use strict";var s=a("YRh5"),n=a.n(s);n.a},UiXD:function(t,e,a){},Vtdi:function(t,e,a){"use strict";a.r(e);a("9VmF"),a("yt8O"),a("VRzm");var s=a("Kw5r"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),a("ToolBar")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toolbar-container"},[a("div",{staticClass:"toolbar"},[a("div",{staticClass:"item",attrs:{id:"cart-trigger"},on:{click:function(e){t.show_cart=!t.show_cart}}},[t.show_full?a("span",[t._v("购物车")]):a("span",[a("svg",{staticStyle:{fill:"#ffffff"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"30",viewBox:"0 0 30 30"}},[a("path",{attrs:{d:"M 2 2 A 1.0001 1.0001 0 1 0 2 4 L 3.8789062 4 C 4.1048086 4 4.2933102 4.1414634 4.3574219 4.359375 L 8.6191406 18.847656 C 8.993174 20.11937 10.169409 21 11.496094 21 L 22.472656 21 C 23.821072 21 25.011657 20.088693 25.367188 18.789062 L 27.964844 9.2636719 A 1.0001 1.0001 0 0 0 27 8 L 7.5136719 8 L 6.2773438 3.7949219 A 1.0001 1.0001 0 0 0 6.2753906 3.7949219 C 5.9634991 2.7348335 4.9830041 2 3.8789062 2 L 2 2 z M 12 23 A 2 2 0 0 0 10 25 A 2 2 0 0 0 12 27 A 2 2 0 0 0 14 25 A 2 2 0 0 0 12 23 z M 22 23 A 2 2 0 0 0 20 25 A 2 2 0 0 0 22 27 A 2 2 0 0 0 24 25 A 2 2 0 0 0 22 23 z"}})])])]),a("div",{directives:[{name:"top",rawName:"v-top"}],staticClass:"item"},[t.show_full?a("span",[t._v("回到顶部")]):a("span",[a("svg",{staticStyle:{fill:"#000000"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"30",viewBox:"0 0 252 252"}},[a("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","fill-rule":"nonzero",stroke:"none","stroke-width":"1","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","stroke-dasharray":"","stroke-dashoffset":"0","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[a("path",{attrs:{d:"M0,252v-252h252v252z",fill:"none"}}),a("g",{attrs:{id:"Layer_1",fill:"#ffffff"}},[a("g",[a("path",{attrs:{d:"M13.6395,179.55l112.3605,-118.2762l112.3605,118.2762z"}}),a("path",{attrs:{d:"M126,65.8476l105.0273,110.5524h-210.0546l105.0273,-110.5524M126,56.7l-119.7,126h239.4l-119.7,-126z"}})])])])])])]),a("router-link",{staticClass:"link",attrs:{to:"/search"}},[a("div",{staticClass:"item"},[t.show_full?a("span",[t._v("搜索")]):a("span",[a("svg",{staticStyle:{fill:"#ffffff"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"30",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M 9 2 C 5.1458514 2 2 5.1458514 2 9 C 2 12.854149 5.1458514 16 9 16 C 10.747998 16 12.345009 15.348024 13.574219 14.28125 L 14 14.707031 L 14 16 L 20 22 L 22 20 L 16 14 L 14.707031 14 L 14.28125 13.574219 C 15.348024 12.345009 16 10.747998 16 9 C 16 5.1458514 12.854149 2 9 2 z M 9 4 C 11.773268 4 14 6.2267316 14 9 C 14 11.773268 11.773268 14 9 14 C 6.2267316 14 4 11.773268 4 9 C 4 6.2267316 6.2267316 4 9 4 z"}})])])])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_cart,expression:"show_cart"}],ref:"cart",staticClass:"cart",attrs:{except:"#cart-trigger"}},[a("div",{staticClass:"title center item"},[t._v(" 我的购物车"+t._s(t.count()))]),t.count()?a("div",{staticClass:"contenter"},[a("div",{staticClass:"shortcart"},[a("div",{staticClass:"item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked_all,expression:"checked_all"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked_all)?t._i(t.checked_all,null)>-1:t.checked_all},on:{click:t.toggle_all,change:function(e){var a=t.checked_all,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.checked_all=a.concat([r])):i>-1&&(t.checked_all=a.slice(0,i).concat(a.slice(i+1)))}else t.checked_all=n}}}),t._v("全选\n        ")])]),t._l(t.hub.cart,function(e,s){return a("div",{staticClass:"item row"},[a("div",{staticClass:"col-lg-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e._checked,expression:"it._checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e._checked)?t._i(e._checked,null)>-1:e._checked},on:{change:function(a){var s=e._checked,n=a.target,r=!!n.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);n.checked?o<0&&t.$set(e,"_checked",s.concat([i])):o>-1&&t.$set(e,"_checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"_checked",r)}}})]),a("div",{staticClass:"col-lg-2"},[a("img",{attrs:{src:e.$pet&&e.$pet.cover_url,alt:""}})]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"pet-title"},[t._v(t._s(e.$pet.title))]),a("div",{staticClass:"price"},[t._v("单价:￥"+t._s(e.$pet&&e.$pet.price))]),a("div",{staticClass:"price"},[t._v("小计:"+t._s(e.$pet&&e.$pet.price*e.count))])]),a("div",{staticClass:"col-lg-3",staticStyle:{padding:"0px"}},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"col-sm-3",staticStyle:{"border-right":"0px"},attrs:{type:"button"},on:{click:function(t){e.count>1&&e.count--}}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"it.count"}],staticClass:"col-sm-6",attrs:{type:"text"},domProps:{value:e.count},on:{input:function(a){a.target.composing||t.$set(e,"count",a.target.value)}}}),a("button",{staticClass:"col-sm-3",staticStyle:{"border-left":"0px"},attrs:{type:"button"},on:{click:function(t){e.count++}}},[t._v("+")])])]),a("div",{staticClass:"col-lg-2"},[a("button",{on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])}),a("div",{staticClass:" item foot"},[a("div",[t._v("共计："+t._s(t.sum))]),a("button",[t._v("付款")])])],2):a("div",{staticClass:"center empty-holder"},[t._v("暂无内容")])])])},o=[],c=(a("rGqo"),a("RW0V"),a("vDqi")),l=a.n(c),u="81047e6777597db91855fcf39f78dbb8d2ac90a80ad041eb4383506c4fa5efdc",d="http://mock.biaoyansu.com/api/1/";function v(t,e){return btoa(t+e)}function p(t,e){var a=(new Date).getTime(),s=v(u,a),n={headers:{"biao-mock-app-key":u,"biao-mock-timestamp":a,"biao-mock-signature":s}};return t=d+t,l.a.post(t,e,n).then(function(t){return t.data})}var m={cart:{}};function _(){return m}function h(){p("cart/read",{key_by:"id",with:"has_one:pet",limit:50}).then(function(t){console.log(t.data),s["a"].set(m,"cart",t.data)})}function f(t){for(var e in m.cart){var a=m.cart[e];t(a,e)}}function g(t,e){p("cart/create",{pet_id:t,count:e}).then(function(t){return h()})}function b(t){p("cart/delete",{id:t}).then(function(t){return h()})}function C(){return m.cart?Object.keys(m.cart).length:0}function y(t){for(var e in m.cart){var a=m.cart[e];if(a.pet_id==t)return a}}function w(t){return!!y(t)}function k(){h()}k();var x=s["a"].directive("outer-click-hide",{inserted:function(t){t.addEventListener("click",function(t){window.scrollTo(0,0)})}}),A={directives:{top:x},data:function(){return{show_cart:!1,hub:_(),checked_all:!1,show_full:!1}},methods:{count:C,remove:b,toggle_all:function(){var t=this.hub.cart;for(var e in this.hub.cart){var a=t[e];this.$set(a,"_checked",!this.checked_all)}}},computed:{sum:function(){var t=this.hub.cart,e=0;for(var a in this.hub.cart){var s=t[a];s._checked&&(e+=s.count*s.$pet.price)}return e}}},$=A,N=(a("ydb+"),a("KHd+")),E=Object(N["a"])($,i,o,!1,null,"5cdb1fb4",null),P=E.exports,j={name:"app",components:{ToolBar:P}},O=j,S=(a("A0++"),Object(N["a"])(O,n,r,!1,null,null,null)),q=S.exports,W=a("jE9Z"),D=a("e7F3"),L=a("chKg"),M=a.n(L),I=(a("36R9"),a("EVdn")),R=a.n(I),K=(a("+eM2"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",[a("Nav")],1),a("div",{staticClass:"container"},[a("div",{staticClass:"silder"},[a("swiper",{attrs:{options:t.swiperOption}},[t._l(t.hot,function(t,e){return a("swiper-slide",{key:e},[a("router-link",{attrs:{to:"/detail/"+t.id}},[a("img",{staticClass:"img-thumbnail",attrs:{src:t.cover_url,alt:t.title}})])],1)}),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]),t._m(0),a("div",{staticClass:"container"}),a("div",{staticClass:"container "},[t._m(1),a("div",[a("div",{staticClass:"row"},t._l(t.cat,function(e){return a("div",{staticClass:"col-lg-4 center"},[a("div",{attrs:{calss:"cards"}},[a("div",{staticClass:"smallcards"},[a("router-link",{staticClass:"link",attrs:{to:"/search?category_id="+e.id}},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.cover_url,alt:"yo"}}),a("span",{staticClass:"title"},[t._v("\n                  "+t._s(e.name))])])],1)])])}))]),a("div",[t._m(2),a("div",{staticClass:"row"},t._l(t.list,function(e){return a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"smallcard"},[a("router-link",{attrs:{to:"/detail/"+e.id}},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.cover_url?e.cover_url:"http://wx3.sinaimg.cn/large/006qLr31ly1fu236blfpgj30be06omxh.jpg",alt:""}})]),a("div",{staticClass:"title center"},[a("h4",[t._v(t._s(e.title))]),a("h5",[t._v("￥"+t._s(e.price))])]),a("div",{staticClass:"desc center"},[t._v("\n                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio nisi non ut nam deserunt,\n\n              ")])],1)])])}))])]),a("Footer")],1)}),J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"main center row"},[a("div",{staticClass:"col-sm-3 serve"},[a("div",[t._v("\n          QUALITY ASSURANCE\n        ")]),a("div",[t._v("\n          品质保证\n        ")])]),a("div",{staticClass:"col-sm-3 serve"},[a("div",[t._v("\n          BUSINESS INTEGRITY\n\n        ")]),a("div",[t._v("诚信商家")])]),a("div",{staticClass:"col-sm-3 serve"},[a("div",[t._v("TRUTHUL DESCRIPTION")]),a("div",[t._v("如实描述")])]),a("div",{staticClass:"col-sm-3 serve"},[a("div",[t._v("INTENIONS OF SERVICES")]),a("div",[t._v("用心服务")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" center head"},[a("div",{staticClass:"title"},[t._v("\n          分类推荐\n         ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" center head"},[a("div",{staticClass:"title"},[t._v("\n         热搜推荐\n         \n         ")])])}],G=(a("93Eu"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"col-lg-4 "},t._l(t.list,function(e){return a("span",[a("router-link",{staticClass:"item",attrs:{to:"/search?category_id="+e.id}},[t._v(t._s(e.name))])],1)})),a("div",{staticClass:"col-lg-4 center"},[t.visible_search?a("form",{on:{submit:function(e){e.preventDefault(),t.$router.push({path:"/search",query:{keyword:t.keyword}})}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"发现萌物"},domProps:{value:t.keyword},on:{blur:function(e){t.visible_search=!1},input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]):a("div",[a("router-link",{staticClass:"item logo",attrs:{to:"/"}},[t._v("AWEEE")]),a("img",{staticClass:"icon",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQeSURBVGhD7VhJaBRBFI0L7uJ2U/Emogh6EE9qvEREUdxxwYt4EA8eophghIC4HjxEVIgJpqvaiaYPiYJHIaggLrigIiQqkpnMBMkhmN1s4/vl6yHExJie7k5G8qCo7lfV//9Xv6qrurPGMY4xiHrbXlavVC5KVVzrGtStqJNScN1Yr/Ur1KW4P/TVcebwsbGBZGHhRAjYF1fquRt0/4LAuwfj0b8dbXcatF5JU6OHqGWtRVBv3OAQWAtqJ6HUYcnOR8eZwq5Z38rK5rJ/HsozZKfXPIMa5Va0pGQ+u4aHZDI5AUEXpEZbqQSujyPYaewyLGK2vRjPFKdsaB2FnXVsDh5Jx5kEp5YZTaX6MJqXvjvOLDaPGMjecth5QjGdMcvaw6bgYDKhtaaI1oTWu9mUFmQKyvSi3R5My+1sCgZx2z5jnGndJvOdtG+A7XOu/cBeAhK4GS1MJ78yMRCScQi5RzEfa4uKprLJH8grFsbfGgdKXSAdCOLFxTNEhPjC4s8n7Q9geD9HqQEpn0k6MMSU2mKEaN3k68aJLLxkNo6RChzIRjV95pJKD/J6ZDaafZ+zfwF87hC/EPSOVHqAgFPGIHZsUqFA1gpEtItv2TxJeweE3OfIHCQVGuDzgfiWNUrKO2Cs1hjD2YlUaICAs2YQtT5PyjtgpEOMJaurJ5MKDXL4NEKUUqS8gRuUjEgHqVCBjGwT/6grSXmHMYQdnbehAhnZRSGalHfAUJMYaywtnU0qNOBsd1R8o1wl5R3IxmsxhtFZQyo0wPcV8Y36JCnvwEK77ZuxEQJT6pX4xj6ykZR3uG8OGH1KKhTgtL0Ig9eH0tL/k9kz5FsaQjohpLeuvHwh6cABnydkAGVTJJU+YOyuMar1DVKBIlpRMR0+Y/SZQzp9xLReJWmG0a5YJLKUdGCAiHwRAZ8vSfkHd9GjrvZlzg6BhG2vwDRuNgNnWZtI+wcYXgARcYq5SdpXmPWo1Gf6uE7af2CDWg8HP5n2AjnCsCltiAhk4rERoXWNrBM2BQMIOQgRPUaM1pGR/JQbCjKdYO8LRZgjEWzvZXNwwNzdCYfmVAxh7xJab2bTiGDeTlrnIfAfrgi3gOsORUx9WdlqOPqUcq7UI9xv+5cpIZsdnpF9Isqg+/D8Qwk+Ze833x3Kn0f5hocz+QecGlGIacN9lfmZZ9sHcLzYKhkEdwTlMvq8QC2vcjfYDwnL2iD2JAO4Hx0xgrpIZB6cnsaovu8fxF+KnBTkEzpn4AtjMDEoXaGJcQExS+R8hmAuIigbpRLX5aivSZbQlj3c9JOgx4QYPyBBS/ADxQT1uzZQ/P9isClnpBgJelAx+KZnl8yBEcPj0biYsQQJeggx2eySOfhDDI5H8tObzZkFc3AVMZkswoVMp4wXMY7MQlbWL9kwfo/jTQ74AAAAAElFTkSuQmCC"},on:{click:function(e){t.visible_search=!0}}})],1)]),a("div",{staticClass:"col-lg-4 right"},[a("router-link",{staticClass:"item",attrs:{to:"/admin/pet"}},[t._v("管理面板")]),t.session.logged_in()?a("span",[a("router-link",{staticClass:"item",attrs:{to:"/me/order"}},[t._v(t._s(t.session.uinfo().username||"不愿透露姓名的网友"))]),a("span",{staticClass:"item logout",on:{click:function(e){t.session.logout("/#/login")}}},[t._v("登出")])],1):a("span",[a("router-link",{staticClass:"item",attrs:{to:"/login"}},[t._v("登录")]),a("router-link",{staticClass:"item",attrs:{to:"/signup"}},[t._v("注册")])],1)],1)])])])])}),Q=[],U={exist:function(t,e){return p("user/read",{where:{or:[["username","=",t],["phone","=",t],["email","=",t]]}}).then(function(t){var a;return!(!(a=t.data&&t.data[0])||a.password!==e)&&a})},uinfo:function(){return JSON.parse(localStorage.getItem("uinfo"))||{}},login:function(t){this.replace_uinfo(t)},replace_uinfo:function(t){delete t.password,localStorage.setItem("uinfo",JSON.stringify(t))},logout:function(t){localStorage.removeItem("uinfo"),location.href=t||"/"},is_admin:function(){var t=this.uinfo();return t&&this.uinfo().is_admin},logged_in:function(){return!!this.his_id()},his_id:function(){var t=this.uinfo();return t&&this.uinfo().id}},F={data:function(){return{session:U,visible_search:!1,keyword:null,list:{}}},mounted:function(){this.read_cat()},methods:{read_cat:function(){var t=this;p("category/read",{limit:4}).then(function(e){t.list=e.data||[]})}}},Z=F,T=(a("DdiC"),Object(N["a"])(Z,G,Q,!1,null,"5d2c3b89",null)),V=T.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer center"},[a("div",{staticClass:"container"},[a("p",[a("span",[t._v("隐私政策")]),a("span",[t._v("广告服务")]),a("span",[t._v("使用条款")]),a("span",[t._v("联系我们")]),a("span",[t._v("关于我们")])]),a("p",[t._v("\n      Copyright © 2013 - Aweee\n    ")])])])}],Y=(a("5Bql"),{}),X=Object(N["a"])(Y,z,B,!1,null,"340c23fe",null),H=X.exports,tt={components:{Nav:V,Footer:H},data:function(){return{hot:[],cat:[],list:[],swiperOption:{keyboard:!0,clickable:!1,loop:!0,autoplay:!0,pagination:{el:".swiper-pagination"}},swiperSlides:[1,2,3,4,5]}},mounted:function(){this.read_hot(),this.read_cat(),this.read_pet()},methods:{read_pet:function(){var t=this;p("pet/read",{limit:16}).then(function(e){t.list=e.data||[],console.log(t.list)})},read_hot:function(){var t=this;p("pet/read",{where:{hot:!0}}).then(function(e){t.hot=e.data})},read_cat:function(){var t=this;p("category/read",{where:{promoring:!0},with:{relation:"has_many",model:"breed"}}).then(function(e){t.cat=e.data,console.log(t.cat),t.read_pet_by_cat()})},read_pet_by_cat:function(){var t=this;this.cat.forEach(function(e){p("pet/read",{where:{category_id:e.id},limit:8}).then(function(a){t.$set(e,"pet_list",a.data)})})}}},et=tt,at=(a("4XZJ"),Object(N["a"])(et,K,J,!1,null,"e92f35dc",null)),st=at.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("Nav")],1),a("div",{staticClass:" container "},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"category center"},[t._v("宠物分类")]),t._l(t.cat,function(e){return a("div",{staticClass:"sidebar"},[a("div",[a("div",{staticClass:"title",on:{click:function(a){t.read_category(e.id)}}},[t._v("  "+t._s(e.name))])]),a("div",t._l(e.$breed,function(e){return a("span",[a("router-link",{staticClass:"breed-link center",attrs:{to:"/search?breed_id="+e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1)}))])})],2),a("div",{staticClass:"col-lg-9"},[a("div",{},[a("form",{on:{submit:function(e){e.preventDefault(),t.search(t.keyword)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"发现萌物"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),a("button",{attrs:{type:"button",hidden:""}},[t._v("提交")])])]),a("div",{},[a("div",{staticClass:"card"},[a("div",{staticClass:"filter row"},[a("div",{staticClass:"col-lg-2"},[a("label",[t._v("分类")]),a("Dropdown",{attrs:{api:"category.name"},on:{selected:function(e){t.$set(t.filter,"category_id",e.id)}}})],1),a("div",{staticClass:"col-lg-2"},[a("label",[t._v(" 品种")]),a("Dropdown",{attrs:{api:"breed.name"},on:{selected:function(e){t.$set(t.filter,"breed_id",e.id)}}})],1),a("div",{staticClass:"col-lg-2"},[a("label",[t._v("毛色")]),a("Dropdown",{attrs:{api:"color.name"},on:{selected:function(e){t.$set(t.filter,"color_id",e.id)}}})],1),a("div",{staticClass:"col-lg-2"},[a("label",[t._v("性格")]),a("Dropdown",{attrs:{api:"character.name"},on:{selected:function(e){t.$set(t.filter,"character_id",e.id)}}})],1)])])]),a("div",{},[a("div",{},[a("div",{staticClass:"row"},t._l(t.list,function(e){return a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"smallcard"},[a("router-link",{attrs:{to:"/detail/"+e.id}},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.cover_url?e.cover_url:"http://wx3.sinaimg.cn/large/006qLr31ly1fu236blfpgj30be06omxh.jpg",alt:""}})]),a("div",{staticClass:"title center"},[a("h4",[t._v(t._s(e.title))]),a("h5",[t._v("￥"+t._s(e.price))])]),a("div",{staticClass:"desc center"},[t._v("\n                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio nisi non ut nam deserunt,\n\n                  ")])],1)])])}))])]),a("div",{staticClass:"center"},[a("Pagination",{staticStyle:{"margin-left":"0"},attrs:{limit:t.limit,totalCount:t.total},on:{pageChange:t.on_page_change}})],1)])]),a("div",[a("Footer")],1)])},rt=[],it=(a("OG14"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown",style:this.containStyle,on:{mouseleave:function(e){t.show_menu=!1}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],style:this.ownStyle,attrs:{placeholder:t.placeholder,type:"search"},domProps:{value:t.keyword},on:{keyup:function(e){t.show_menu=!0},click:function(e){t.show_menu=!0},focus:function(e){t.show_menu=!0},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t.show_menu?a("div",{staticClass:"menu"},[t.result.length?a("div",t._l(t.result,function(e){return a("div",{staticClass:"menu-item",on:{click:function(a){t.select(e)}}},[t._v(t._s(e[t.displayKey]))])})):a("div",{staticClass:"empty-holder"},[t._v("\n      暂无内容\n    ")])]):t._e()])}),ot=[],ct=(a("dRSK"),a("KKXr"),a("91GP"),{props:{immediate:{default:!0},placeholder:{default:"请选择"},api:{},list:{default:function(){return[]}},default:{},onSelect:{},primaryKey:{default:"id"},displayKey:{default:"name"},ownStyle:{default:0},containStyle:{default:0}},mounted:function(){this.set_default(),this.api_conf=this.parse_api();var t=this.list;t&&(this.result=Object.assign([],this.list)),this.immediate&&this.search()},data:function(){return{api_conf:{},result:[],keyword:"",selected:{},show_menu:!1,timer:null}},methods:{parse_api:function(){var t=this.api;if("string"!=typeof t)return Object.assign({},p);t=t.split(".");var e=t[0],a=t[1];return a=a.split(","),{model:e,property:a}},reset:function(){this.keyword="",this.selected={}},set_default:function(){var t=this,e=this.default;if(e){var a=this.list.find(function(a){return a[t.primaryKey]==e});this.select(a)}else this.reset()},select:function(t){this.show_menu=!1,this.selected=t,this.keyword=t[this.displayKey],this.onSelect&&this.onSelect(t),this.$emit("selected",t)},filter:function(){var t=this;this.result=Object.assign([],this.list),this.result=this.result.filter(function(e){return-1!==e[t.displayKey].indexOf(t.keyword)})},search:function(){var t=this,e={},a=this.api_conf.property;a&&(a.forEach(function(a){e[a]=t.keyword}),clearTimeout(this.timer),this.timer=setTimeout(function(){p("".concat(t.api_conf.model,"/search"),{or:e}).then(function(e){t.result=e.data||[]})},300))}},watch:{list:{deep:!0,handler:function(t){this.result=t}},keyword:function(){this.api?this.search():this.filter()},default:function(){this.set_default()}}}),lt=ct,ut=(a("Ziuk"),Object(N["a"])(lt,it,ot,!1,null,"67eba714",null)),dt=ut.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("span",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",attrs:{disabled:t.is_first_page},on:{click:function(e){t.change(1)}}},[t._v("First")]),a("button",{staticClass:"btn-small",attrs:{disabled:t.is_first_page},on:{click:function(e){t.prev()}}},[t._v("Prev")])]),t._v("\n     \n  "),a("span",{staticClass:"btn-group"},[t._l(t.last_page,function(e){return Math.abs(e-t.current_page)<=t.half_limit||t.half_limit<1?a("button",{key:e,staticClass:"btn-small ",class:{active:t.current_page==e},staticStyle:{margin:"5px"},on:{click:function(a){t.change(e)}}},[t._v(t._s(e)+"\n    \n   \n\n    ")]):t._e()}),t._v("\n       \n    \n  ")],2),a("span",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",attrs:{disabled:t.is_last_page},on:{click:function(e){t.next()}}},[t._v("Next")]),a("button",{staticClass:"btn-small",attrs:{disabled:t.is_last_page},on:{click:function(e){t.change(t.last_page)}}},[t._v("Last")])])])},pt=[],mt={methods:{change:function(t){this.onChange&&this.onChange(t),this.$emit("pageChange",t),this.current_page=t},next:function(){this.is_last_page||this.change(++this.current_page)},prev:function(){this.is_first_page||this.change(--this.current_page)}},props:{limit:{default:0},totalCount:{default:0},onChange:{default:function(){}}},data:function(){return{current_page:1}},computed:{half_limit:function(){return Math.floor(this.limit/2)},is_last_page:function(){return this.current_page==this.last_page},is_first_page:function(){return 1==this.current_page},last_page:function(){return Math.ceil(this.totalCount/this.limit)}}},_t=mt,ht=(a("GcCp"),Object(N["a"])(_t,vt,pt,!1,null,"98e883fa",null)),ft=ht.exports,gt={components:{Nav:V,Footer:H,Dropdown:dt,Pagination:ft},data:function(){return{cat:[],list:{},keyword:"",total:0,limit:8,current_page:1,filter:{breed_id:"",category_id:""}}},mounted:function(){this.keyword=this.$route.query.keyword,this.filter.breed_id=this.$route.query.breed_id,this.filter.category_id=this.$route.query.category_id,this.search(),this.read_cat()},methods:{read_category:function(t){var e=this;p("pet/read",{where:{category_id:t}}).then(function(a){console.log(t),console.log(a.data),e.search()})},read_cat:function(){var t=this;p("category/read",{where:{promoring:!0},with:{relation:"has_many",model:"breed"}}).then(function(e){t.cat=e.data,t.read_pet_by_cat()})},read_pet_by_cat:function(){var t=this;this.cat.forEach(function(e){p("pet/read",{where:{category_id:e.id},limit:8}).then(function(a){t.$set(e,"pet_list",a.data)})})},search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.keyword;console.log(1),e||(e="");var a="",s="",n="",r="",i=this.filter;i.category_id&&(a=' and "category_id" = '.concat(i.category_id," ")),i.breed_id&&(s=' and "breed_id" = '.concat(i.breed_id," ")),i.color_id&&(n=' and "color_id" = '.concat(i.color_id," ")),i.character_id&&(r=' and "character_id" = '.concat(i.character_id," "));var o='where ( "title" contains "'.concat(e,'" ').concat(a," ").concat(s," ").concat(n," ").concat(r," ) ");p("pet/read",{query:o,page:this.current_page,limit:this.limit}).then(function(e){t.list=e.data,t.total=e.total})},on_page_change:function(t){console.log("page:",t),this.current_page=t,this.search()}},watch:{filter:{deep:!0,handler:function(){this.search()}}}},bt=gt,Ct=(a("87MF"),Object(N["a"])(bt,nt,rt,!1,null,"6ac7e7b0",null)),yt=Ct.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("Nav")],1),a("div",{staticClass:"container"},[a("div",{staticClass:"silder"},[a("div",[a("img",{attrs:{src:t.current.cover_url,alt:"yo"}})]),a("div",{staticClass:"mask "}),a("div",{staticClass:"info"},[t._m(0),t._v("\n          "+t._s(t.current)+"\n            "),a("h1",[t._v(t._s(t.current.title))])]),a("router-link",{class:"btn-primary btn-large buy "+(t.current.id?"":"disabled"),attrs:{to:"/new_order/"+t.current.id}},[t._v("￥"+t._s(t.current.price)+" 购买")]),t.pet_exist?a("button",{staticClass:"btn-primary btn-large other-carts",attrs:{disabled:""}},[t._v("已加入购物车")]):a("button",{staticClass:"btn-primary btn-large carts",on:{click:function(e){t.add_to_cart(t.current.id,1)}}},[t._v("加入购物车")])],1)]),t._m(1),a("div",[a("Footer")],1)])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"prop-list"},[a("div",{staticClass:"prop"},[a("span",[t._v("产地")]),a("span",[t._v("何家营")])]),a("div",{staticClass:"prop"},[a("span",[t._v("品种")]),a("span",[t._v("沙皮")])]),a("div",{staticClass:"prop"},[a("span",[t._v("产地")]),a("span",[t._v("何家营")])]),a("div",{staticClass:"prop"},[a("span",[t._v("品种")]),a("span",[t._v("沙皮")])]),a("div",{staticClass:"prop"},[a("span",[t._v("产地")]),a("span",[t._v("何家营")])]),a("div",{staticClass:"prop"},[a("span",[t._v("品种")]),a("span",[t._v("沙皮")])]),a("div",{staticClass:"prop"},[a("span",[t._v("产地")]),a("span",[t._v("何家营")])]),a("div",{staticClass:"prop"},[a("span",[t._v("品种")]),a("span",[t._v("沙皮")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"main"},[a("div",{staticClass:"row center other-info"},[a("div",{staticClass:"col-lg-2"},[t._v("4个月")]),a("div",{staticClass:"col-lg-2"},[t._v("已打疫苗")]),a("div",{staticClass:"col-lg-2"},[t._v("无遗传病")]),a("div",{staticClass:"col-lg-2"},[t._v("已绝育")]),a("div",{staticClass:"col-lg-2"},[t._v("拉布拉多纯种")])]),a("div",{staticClass:"content"},[t._v("\n      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consectetur consequuntur dolorem doloremque\n      dolorum enim explicabo labore maiores nesciunt nihil pariatur, reprehenderit? Esse magnam nulla quas. Laudantium\n      rerum veritatis voluptatum!\n      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consectetur consequuntur dolorem doloremque\n      dolorum enim explicabo labore maiores nesciunt nihil pariatur, reprehenderit? Esse magnam nulla quas. Laudantium\n      rerum veritatis voluptatum!\n      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consectetur consequuntur dolorem doloremque\n      dolorum enim explicabo labore maiores nesciunt nihil pariatur, reprehenderit? Esse magnam nulla quas. Laudantium\n      rerum veritatis voluptatum!\n      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consectetur consequuntur dolorem doloremque\n      dolorum enim explicabo labore maiores nesciunt nihil pariatur, reprehenderit? Esse magnam nulla quas. Laudantium\n      rerum veritatis voluptatum!\n      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consectetur consequuntur dolorem doloremque\n      dolorum enim explicabo labore maiores nesciunt nihil pariatur, reprehenderit? Esse magnam nulla quas. Laudantium\n      rerum veritatis voluptatum!\n    ")])])])}],xt={components:{Nav:V,Footer:H},mounted:function(){this.find()},data:function(){return{pet_exist:!1,current:{},hidden:!1,hub:m}},methods:{all:_,add_to_cart:g,find:function(){var t=this,e=this.$route.params.id;p("pet/find",{id:e}).then(function(e){t.current=e.data,console.log(t.current)})}},watch:{hub:{deep:!0,handler:function(t,e){this.current&&(this.pet_exist=w(this.current.id))}}}},At=xt,$t=(a("I3xT"),Object(N["a"])(At,wt,kt,!1,null,"e0b1c8e0",null)),Nt=$t.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Nav"),s("div",{staticClass:"order-form row"},[s("div",{staticClass:"col-lg-4"}),!t.current.pet_id&&!this.from_cart||t.submitted?t._e():s("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"order col-lg-3"},[s("h1",[t._v("创建订单-"+t._s(this.from_cart?"购物车结算":t.pet.title))]),t.current.pet_id?s("div",[s("div",{staticClass:"cute-form"},[s("span",{staticClass:"key"},[t._v("单价：")]),s("span",{staticClass:"value"},[t._v(t._s(t.pet.price))])]),s("div",{staticClass:"cute-form"},[s("span",{staticClass:"key"},[t._v("数量：")]),s("span",{staticClass:"value"},[t._v(t._s(this.current.count))])])]):s("div",t._l(t.hub.cart,function(e,a){return s("div",{staticClass:"item row"},[s("div",{staticClass:"col-lg-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e._checked,expression:"it._checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e._checked)?t._i(e._checked,null)>-1:e._checked},on:{change:function(a){var s=e._checked,n=a.target,r=!!n.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);n.checked?o<0&&t.$set(e,"_checked",s.concat([i])):o>-1&&t.$set(e,"_checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"_checked",r)}}})]),t._m(0,!0),s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"pet-title"},[t._v(t._s(e.$pet.title))]),s("div",{staticClass:"price"},[t._v("单价:￥"+t._s(e.$pet&&e.$pet.price))]),s("div",{staticClass:"price"},[t._v("小计:"+t._s(e.$pet&&e.$pet.price*e.count))])]),s("div",{staticClass:"col-lg-3"},[s("div",{staticClass:"btn-group"},[s("button",{attrs:{type:"button"},on:{click:function(t){e.count>1&&e.count--}}},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"it.count"}],attrs:{type:"text"},domProps:{value:e.count},on:{input:function(a){a.target.composing||t.$set(e,"count",a.target.value)}}}),s("button",{attrs:{type:"button"},on:{click:function(t){e.count++}}},[t._v("+")])])]),s("div",{staticClass:"col-lg-2"},[s("button",{on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])})),s("div",{staticClass:"cute-form"},[s("span",{staticClass:"key"},[t._v("总价：")]),s("span",{staticClass:"value"},[t._v(t._s(t.total))])]),s("div",{staticClass:"cute-form"},[s("span",{staticClass:"key"},[t._v("备注")]),s("span",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.current.user_memo,expression:"current.user_memo"}],staticStyle:{},attrs:{type:"text"},domProps:{value:t.current.user_memo},on:{input:function(e){e.target.composing||t.$set(t.current,"user_memo",e.target.value)}}})])]),s("div",{staticClass:"cute-form"},[s("h4",[t._v("请选择支付方式")]),s("div",[s("div",{staticClass:"row "},[s("img",{staticClass:"col-lg-5",attrs:{src:a("SWiN"),alt:""}}),s("span",{staticClass:"col-lg-7 pay"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.current.pay_by,expression:"current.pay_by"}],attrs:{type:"radio",value:"wechat"},domProps:{checked:t._q(t.current.pay_by,"wechat")},on:{change:function(e){t.$set(t.current,"pay_by","wechat")}}}),t._v(" 微信支付\n            ")])]),s("div",{staticClass:"row  "},[s("img",{staticClass:"col-lg-5",attrs:{src:a("ZeV4"),alt:""}}),s("span",{staticClass:"col-lg-7 pay"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.current.pay_by,expression:"current.pay_by"}],attrs:{type:"radio",value:"alipay"},domProps:{checked:t._q(t.current.pay_by,"alipay")},on:{change:function(e){t.$set(t.current,"pay_by","alipay")}}}),t._v(" 支付宝支付\n            ")])])])]),s("button",{on:{click:t.submit}},[t._v("提交订单")])])]),s("div",{staticClass:"col-lg-5"})])],1)},Pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-2"},[s("img",{attrs:{src:a("sgEr"),alt:""}})])}];function jt(t){return(new Date).getTime()+t+Math.round(10*Math.random())}var Ot={components:{Nav:V},mounted:function(){console.log(this.$route.query),this.current=Object.assign({},this.current,this.$route.params),this.from_cart=this.$route.query.from_cart,this.find(this.current.pet_id)},data:function(){return{from_cart:!1,submitted:!1,current:{pay_by:"wechat"},pet:{},hub:_(),qrcode:null}},computed:{checked_cart:function(){this.hub.cart;var t={};f(function(e){e._checked&&(t[id]=e)})},total:function(){var t=0;return this.form_cart?f(function(e){e._checked&&(t+=e.$pet.price*e.count)}):(this.pet.price||(this.pet.price=0),this.current.count,this.current.count=1,t=this.pet.price*this.current.count),t}},methods:{find:function(t){var e=this;t&&p("pet/find",{id:t}).then(function(t){e.pet=t.data,console.log(e.pet)})},submit:function(){var t=this;this.current.user_id=U.his_id(),this.current.sum=this.total,this.current.oid=jt(this.pet.id),this.current.product_info=this.pet.id||this.hub.cart,console.log(this.current),p("order/create",this.current).then(function(e){t.current.id=e.data.id,t.$router.push("/pay/"+e.data.oid),console.log("/pay/"+e.data.oid)})}}},St=Ot,qt=(a("i7It"),Object(N["a"])(St,Et,Pt,!1,null,"5569308b",null)),Wt=qt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"cards"},[a("div",{staticClass:"row"},["wechat"==t.current.pay_by?a("div",{staticClass:"pay_by"},[a("div",{staticClass:"chat col-lg-5 col-lg-offset-5"},[a("div",{staticClass:"center"},["wechat"==t.current.pay_by?a("div",[a("h3",[t._v("微信支付")]),a("img",{attrs:{src:t.qrcode,alt:"二维码"}}),a("button",{on:{click:t.verify}},[t._v("支付完成")])]):t._e()])]),a("div"),"alipay"==t.current.pay_by?a("div",[t._v("\n        跳转中，别着急...\n      ")]):t._e()]):t._e()])])],1)},Lt=[];function Mt(t){return location.protocol+"//"+location.host+t}var It,Rt,Kt={components:{Nav:V},data:function(){return{current:{pay_by:"wechat"},qrcode:null}},mounted:function(){this.find(this.$route.params.oid),console.log(this.$route.params.oid)},methods:{find:function(t){var e=this;console.log(1),p("order/first",{where:{oid:t}}).then(function(t){var a=e.current=t.data,s=a.pay_by;a||(alert("订单号有误"),e.go_me_order()),a._paid&&(alert("此订单已支付"),e.go_me_order()),e.pay(a.id,s,a.sum),e.current=t.data||{}})},go_me_order:function(){this.$router.push("/me/order")},verify:function(){var t=this;p("order/find",{id:this.current.id}).then(function(e){e.data._paid?(alert("支付成功"),t.go_me_order()):alert("支付失败")})},pay:function(t,e,a){var s=this;return a>.02&&(a=.02),p("order/payment/url",{id:t,pay_by:e,fee:a,return_url:Mt("/#/me/order")}).then(function(t){t.data.url?location.href=t.data.url:s.qrcode=t.data.qrcode})}}},Jt=Kt,Gt=(a("TFOK"),Object(N["a"])(Jt,Dt,Lt,!1,null,"5e5d7cd6",null)),Qt=Gt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"header"},[a("div",{staticClass:"container"},[a("form",{staticClass:"main-form",attrs:{autocomplete:"off"},on:{submit:t.submit}},[a("h1",{staticClass:"center"},[t._v("登录")]),a("div",{staticClass:"error-list"},[t.login_failed?a("div",{staticClass:"error-list"},[a("div",{staticClass:"error"},[t._v(" 用户名或者密码有误")])]):t._e()]),a("div",{staticClass:"input-contail"},[a("label",[t._v("用户名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.$unique,expression:"current.$unique"}],attrs:{type:"text",autofocus:""},domProps:{value:t.current.$unique},on:{input:function(e){e.target.composing||t.$set(t.current,"$unique",e.target.value)}}})]),a("div",{staticClass:"input-contail"},[a("label",[t._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.password,expression:"current.password"}],attrs:{type:"password",id:"password"},domProps:{value:t.current.password},on:{input:function(e){e.target.composing||t.$set(t.current,"password",e.target.value)}}})]),t._m(0),t._m(1),t._m(2)])])])],1)},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-contail"},[a("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v("登录")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gosignup"},[t._v("没有账号？\n          "),a("a",{attrs:{href:"#/signup"}},[t._v("注册")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"well"},[t._v("\n           测试账号 "),a("br"),a("strong",[t._v("用户名")]),t._v(" admin"),a("br"),a("strong",[t._v("密码")]),t._v(" yoyoyo\n         ")])}],Zt=(a("3oym"),{components:{Nav:V},data:function(){return{current:{},login_failed:!1}},methods:{submit:function(t){var e,a,s=this;t.preventDefault(),(e=this.current.$unique)&&(a=this.current.password)&&("admin"!==e||"yoyoyo"!==a?U.exist(e,a).then(function(t){t?s.on_login_succeed(t):s.login_failed=!0}):this.on_login_succeed({id:1,username:"admin",is_admin:"true"}))},on_login_succeed:function(t){this.login_failed=!1,delete t.password,U.login(t),alert("登录成功"),U.is_admin()?this.$router.push("/admin/order"):this.$router.push("/")}}}),Tt=Zt,Vt=(a("FGOX"),Object(N["a"])(Tt,Ut,Ft,!1,null,"37fd1e66",null)),zt=Vt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("form",{staticClass:"main-form",attrs:{autocomplete:"off"},on:{submit:function(e){t.submit(e)}}},[a("h1",{staticClass:"center"},[t._v("注册")]),a("div",{staticClass:"row center tab-title"},[a("div",{class:"col-lg-6 "+("phone"==t.signup_by?"active":""),on:{click:function(e){t.signup_by="phone"}}},[t._v("手机注册")]),a("div",{class:"col-lg-6 "+("mail"==t.signup_by?"active":""),on:{click:function(e){t.signup_by="mail"}}},[t._v("邮箱注册")])]),"phone"==t.signup_by?a("div",{key:1,staticClass:"input-control"},[a("label",{attrs:{for:"phone"}},[t._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.phone,expression:"current.phone"}],attrs:{"error-el":"#phonp-error",id:"phone",type:"text",placeholder:"请输入手机号码"},domProps:{value:t.current.phone},on:{input:function(e){e.target.composing||t.$set(t.current,"phone",e.target.value)}}}),t._m(0)]):t._e(),"mail"==t.signup_by?a("div",{key:2,staticClass:"input-control"},[a("label",{attrs:{for:"mail"}},[t._v("邮箱号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.mail,expression:"current.mail"}],attrs:{"error-el":"#mail-error",id:"mail",type:"text",placeholder:"请输入邮箱号"},domProps:{value:t.current.mail},on:{input:function(e){e.target.composing||t.$set(t.current,"mail",e.target.value)}}}),t._m(1)]):t._e(),a("div",[a("label",{staticClass:"code"},[t._v("验证码")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.vcode,expression:"current.vcode"}],staticClass:"form-control",attrs:{type:"text",autofocus:"","error-el":"#vcode-error"},domProps:{value:t.current.vcode},on:{input:function(e){e.target.composing||t.$set(t.current,"vcode",e.target.value)}}}),a("span",{staticClass:"input-group-addon",attrs:{disabled:0!=t.captcha.countdown},on:{click:t.send_code}},[t.captcha.countdown?a("span",[t._v(t._s(t.captcha.countdown))]):a("span",[t._v("获取验证码")])])]),a("div",{staticClass:"error-list"},[t.invalid_code?a("div",{staticClass:"error"},[t._v("验证码有误")]):t._e(),a("div",{attrs:{id:"vcode-error"}})])]),a("div",{staticClass:"input-control"},[a("label",{attrs:{for:"password"}},[t._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.password,expression:"current.password"}],attrs:{"error-el":"#password-error",id:"password",type:"password"},domProps:{value:t.current.password},on:{input:function(e){e.target.composing||t.$set(t.current,"password",e.target.value)}}}),t._m(2)]),a("div",{staticClass:"input-control"},[a("label",{attrs:{for:"password2"}},[t._v("重复密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.password2,expression:"current.password2"}],attrs:{id:"password2",type:"password"},domProps:{value:t.current.password2},on:{input:function(e){e.target.composing||t.$set(t.current,"password2",e.target.value)}}})]),t._m(3),a("div",{staticClass:"input-control small muted"},[t._v("\n            已有账号？\n            "),a("router-link",{attrs:{to:"/login"}},[t._v("登陆")])],1)])])])])],1)},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-list"},[a("div",{attrs:{id:"phone-error"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-list"},[a("div",{attrs:{id:"mail-error"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-list"},[a("div",{attrs:{id:"password-error"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-control last"},[a("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v("注册")])])}],Xt={components:{Nav:V},data:function(){return{captcha:{timer:null,countdown:0},signup_by:"phone",current:{},code:"",invalid_code:!1}},methods:{submit:function(t){var e=this;t.preventDefault(),this.invalid_code=this.current.vcode!==this.code,this.invalid_code||("mail"==this.signup_by?delete this.current.phone:delete this.current.mail,!this.current.username&&(this.current.username=this.current[this.signup_by]),p("user/create",this.current).then(function(t){U.login(t.data),alert("注册成功!"),e.$router.push("/")}))},send_code:function(){var t,e,a=this;(console.log(1),this.captcha.countdown)||(this.captcha.countdown=60,t="sms",(e="mail"==this.signup_by)&&(t="mail"),e&&!this.current.mail||!e&&!this.current.phone||(this.captcha.timer=setInterval(function(){0!=a.captcha.countdown?a.$set(a.captcha,"countdown",a.captcha.countdown-1):clearInterval(a.captcha.timer)},1e3),p("captcha/".concat(t),{phone:this.current.phone,mail:this.current.mail}).then(function(t){a.code=atob(t.data.result)})))}}},Ht=Xt,te=(a("4MoD"),Object(N["a"])(Ht,Bt,Yt,!1,null,"039bb744",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card side-nav"},[a("router-link",{staticClass:"nav-item",attrs:{to:"/me/order",relative:""}},[t._v("我的订单")]),a("router-link",{staticClass:"nav-item",attrs:{to:"/me/setting",relative:""}},[t._v("设置")])],1)]),a("div",{staticClass:"col-lg-9"},[a("router-view")],1)])])],1)},se=[],ne=(a("v+B1"),{components:{Nav:V},data:function(){return{}}}),re=ne,ie=(a("AfhG"),Object(N["a"])(re,ae,se,!1,null,"76ab8582",null)),oe=ie.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"meorder"},[a("div",{staticClass:"card"},[a("div",{staticClass:"table"},[a("table",[t._m(0),a("tbody",t._l(t.list,function(e){return a("tr",[a("td",[t._v(t._s(e.oid||"-"))]),a("td",[t._v(t._s(e.sum||0))]),a("td",[t._v(t._s(e._paid?"是":"否"))]),a("td",[a("span",{staticClass:"anchor",on:{click:function(a){t.show_detail(e)}}},[t._v("详情")])]),a("td",[e._paid?a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",on:{click:function(a){t.cancel(e.id)}}},[t._v("删除")])]):a("div",{staticClass:"btn-group"},[a("router-link",{attrs:{to:"/pay/"+e.oid}},[a("button",{staticClass:"btn-small"},[t._v("付款")])]),a("button",{staticClass:"btn-small",on:{click:function(a){t.cancel(e.id)}}},[t._v("取消订单")])],1)])])}))])]),t.detail_visible?a("div",{staticClass:"model"},[a("div",{staticClass:"mask",on:{click:function(e){t.detail_visible=!1}}}),a("div",{staticClass:"card model-content"},[a("h2",[t._v(t._s(t.pet.title))]),a("div",{staticClass:"cute-form"},[a("span",{staticClass:"key"},[t._v("价格")]),a("span",{staticClass:"value"},[t._v(t._s(t.pet.price||"-"))])]),a("div",{staticClass:"cute-form"},[a("span",{staticClass:"key"},[t._v("性别")]),a("span",{staticClass:"value"},[t._v(t._s(t.pet.sex||"-"))])]),a("div",{staticClass:"cute-form"},[a("span",{staticClass:"key"},[t._v("品种")]),a("span",{staticClass:"value"},[t._v(t._s(t.pet.breed_id||"-"))])])])]):t._e()])])},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("订单号")]),a("th",[t._v("总价")]),a("th",[t._v("已付款")]),a("th",[t._v("产品信息")]),a("th",[t._v("操作")])])}],ue={mounted:function(){this.read()},data:function(){return{current:{},pet:{},list:[],detail_visible:!1}},methods:{show_detail:function(t){this.current=t,this.detail_visible=!0,this.find_pet(t.product_info)},find_pet:function(t){var e=this;p("pet/find",{id:t}).then(function(t){e.pet=t.data})},read:function(){var t=this;p("order/read",{with:"has_one:pet",where:{user_id:U.his_id()}}).then(function(e){t.list=e.data,console.log(t.list)})},cancel:function(t){var e=this;confirm("是否要取消此订单？")&&p("order/delete",{id:t}).then(function(t){e.read()})}}},de=ue,ve=(a("juAF"),Object(N["a"])(de,ce,le,!1,null,"7abfb071",null)),pe=ve.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting"},[a("div",{staticClass:"card"},[a("h2",[t._v("常规设置")]),a("div",[a("div",{staticClass:"cute-form"},[t.show.username?a("form",{staticClass:"input-group",on:{submit:function(e){e.preventDefault(),t.submit("username")}}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.username,expression:"current.username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.current.username},on:{input:function(e){e.target.composing||t.$set(t.current,"username",e.target.value)}}}),a("span",{staticClass:"input-group-addon",attrs:{type:"submit"}},[t._v("提交")]),a("span",{staticClass:"input-group-addon",attrs:{type:"button"},on:{click:function(e){t.show.username=!1}}},[t._v("取消")])])]):a("div",[a("span",{staticClass:"key"},[t._v("用户名")]),a("span",{staticClass:"value"},[t._v(t._s(t.current.username||"-"))]),a("span",{staticClass:"anchor",on:{click:function(e){t.show.username=!t.show.username}}},[t._v("编辑")])])]),a("div",{staticClass:"cute-form"},[t.show.intro?a("form",{staticClass:"input-group",on:{submit:function(e){e.preventDefault(),t.submit("intro")}}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.intro,expression:"current.intro"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.current.intro},on:{input:function(e){e.target.composing||t.$set(t.current,"intro",e.target.value)}}}),a("span",{staticClass:"input-group-addon",attrs:{type:"submit"}},[t._v("提交")]),a("span",{staticClass:"input-group-addon",attrs:{type:"button"},on:{click:function(e){t.show.intro=!1}}},[t._v("取消")])])]):a("div",[a("span",{staticClass:"key"},[t._v("签名")]),a("span",{staticClass:"value"},[t._v(t._s(t.current.intro||"-"))]),a("span",{staticClass:"anchor",on:{click:function(e){t.show.intro=!t.show.intro}}},[t._v("编辑")])])])])]),a("div",{staticClass:"card"},[a("h2",[t._v("安全设置")]),a("div",[a("div",{staticClass:"cute-form"},[t.show.password?a("form",{staticClass:"input-group",on:{submit:function(e){e.preventDefault(),t.change_password("password")}}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password.old,expression:"password.old"}],staticClass:"form-control",staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"旧密码"},domProps:{value:t.password.old},on:{input:function(e){e.target.composing||t.$set(t.password,"old",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password.new,expression:"password.new"}],staticClass:"form-control",staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"新密码"},domProps:{value:t.password.new},on:{input:function(e){e.target.composing||t.$set(t.password,"new",e.target.value)}}}),a("span",{staticClass:"input-group-addon",attrs:{type:"submit"}},[t._v("提交")]),a("span",{staticClass:"input-group-addon",attrs:{type:"button"},on:{click:function(e){t.show.password=!1}}},[t._v("取消")])])]):a("div",[a("span",{staticClass:"key"},[t._v("密码")]),a("span",{staticClass:"anchor",on:{click:function(e){t.show.password=!t.show.password}}},[t._v("修改密码")])])])])])])},_e=[],he={data:function(){return{error:{invalid_old_password:!1},password:{new:"",old:""},show:{username:!1,password:!1,intro:!1},current:U.uinfo()}},methods:{submit:function(t){var e=this;p("user/update",this.current).then(function(a){U.replace_uinfo(a.data),e.show[t]=!1})},reset:function(){this.show={username:!1,password:!1}},change_password:function(){var t=this,e=U.uinfo(),a=e.username||e.phone||e.email;U.exist(a,this.password.old).then(function(e){e?t.update_password():t.error.invalid_old_password})},update_password:function(){return p("user/update",{id:this.current.id,password:this.password.new}).then(function(t){alert("密码修改成功"),U.logout("#/login")})}}},fe=he,ge=(a("KtAA"),Object(N["a"])(fe,me,_e,!1,null,"373cded0",null)),be=ge.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},ye=[],we=(a("gU+5"),{}),ke=we,xe=Object(N["a"])(ke,Ce,ye,!1,null,null,null),Ae=xe.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav",{attrs:{"push-down":!0}}),a("div",[a("div",{staticClass:"container "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("AdminNav")],1),a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"content card"},[a("h2",[t._v("分类列表")]),a("div",{staticClass:"tool-bar"},[a("button",{on:{click:function(e){t.show_form=!t.show_form}}},[t._v("创建分类")])]),a("div",{staticClass:"error-list"},t._l(t.errors.items,function(e){return a("div",{staticClass:"error"},[t._v(t._s(e.msg))])})),a("form",{on:{submit:function(e){t.search(e)}}},[a("label",[t._v("搜索")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"搜标题/描述",autofocus:""},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),a("button",{attrs:{type:"submit",hidden:""}},[t._v("搜")])]),a("form",{on:{submit:function(e){t.search_by_username(e)}}}),t.show_form?a("form",{on:{submit:function(e){t.cou(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("分类名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.name,expression:"current.name"}],attrs:{name:"name",type:"text",autocomplete:"off"},domProps:{value:t.current.name},on:{input:function(e){e.target.composing||t.$set(t.current,"name",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("封面")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.cover_url,expression:"current.cover_url"}],attrs:{name:"name",type:"url",autocomplete:"off"},domProps:{value:t.current.cover_url},on:{input:function(e){e.target.composing||t.$set(t.current,"cover_url",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("是否推广首页")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.promoring,expression:"current.promoring"}],attrs:{name:"name",type:"checkbox",autocomplete:"off"},domProps:{checked:Array.isArray(t.current.promoring)?t._i(t.current.promoring,null)>-1:t.current.promoring},on:{change:function(e){var a=t.current.promoring,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"promoring",a.concat([r])):i>-1&&t.$set(t.current,"promoring",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"promoring",n)}}})]),a("div",{staticClass:"input-control"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-primary",attrs:{type:"submit",disabled:t.errors.items.length>0}},[t._v("提交")]),a("button",{attrs:{type:"button"},on:{click:function(e){t.show_form=!1}}},[t._v("取消")])])])]):t._e(),a("div",{staticClass:"table"},[a("table",[t._m(0),a("tbody",t._l(t.list,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.promoring?"是":"否"))]),a("td",[a("div",{staticClass:"btn-group "},[a("button",{staticClass:"btn-small",on:{click:function(a){t.set_current(e)}}},[t._v("编辑")]),a("button",{staticClass:"btn-small",on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])])}))])]),a("Pagination",{attrs:{totalCount:t.total,limit:t.limit,onChange:t.on_page_change}})],1)])])])])],1)},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("分类名")]),a("th",[t._v("首页推广")]),a("th",[t._v("操作")])])}],Ee=a("/XoU"),Pe=a.n(Ee),je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card   side-nav",style:{width:t.width}},[a("router-link",{staticClass:"nav-item",attrs:{to:"/admin/category"}},[t._v("分类管理")]),a("router-link",{staticClass:"nav-item",attrs:{to:"/admin/breed"}},[t._v("品种管理")]),a("router-link",{staticClass:"nav-item",attrs:{to:"/admin/order"}},[t._v("订单管理")]),a("router-link",{staticClass:"nav-item",attrs:{to:"/admin/pet"}},[t._v("宠物管理")]),a("router-link",{staticClass:"nav-item",attrs:{to:"/admin/user"}},[t._v("用户管理")])],1)},Oe=[],Se={props:["width"]},qe=Se,We=(a("RtD5"),Object(N["a"])(qe,je,Oe,!1,null,"7125c5ce",null)),De=We.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[t._v("\n  Copyright © 2018, yangyanche.yo, All Rights Reserved\n")])},Me=[],Ie={},Re=Ie,Ke=Object(N["a"])(Re,Le,Me,!1,null,null,null),Je=Ke.exports,Ge={components:{AdminNav:De,Nav:V,Pagination:ft,AdminFooter:Je,Dropdown:dt},mounted:function(){if(!this.model)throw new Error("请在data中配置当前页model");this.read()},data:function(){return{model:null,keyword:"",searchable:[],show_form:!1,current:{},list:[],current_page:1,last_page:0,total:0,limit:5}},methods:{set_validator_attr:function(t){this.$validator.localize("zh_CN",{messages:Pe.a.messages,attributes:t}),this.$validator.localize("zh_CN")},on_page_change:function(t){this.read(t)},cou:function(t){var e=this;t.preventDefault();var a=this.current.id?"update":"create";p("".concat(this.model,"/").concat(a),this.current).then(function(t){e.current={},e.read(),e.show_form=!1})},read:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e==this.current_page&&1!=e||p("".concat(this.model,"/read"),{limit:this.limit,page:e,with:this.with}).then(function(e){t.total=e.total,t.list=e.data,t.last_page=e.last_page,t.current_page=e.current_page})},remove:function(t){var e=this;confirm("确定删除？")&&p("".concat(this.model,"/delete"),{id:t}).then(function(t){e.read()})},set_current:function(t){this.current=t,this.show_form=!0,this.after_set_current&&this.after_set_current()},search:function(t){var e=this;t.preventDefault();var a={or:{}};this.searchable.forEach(function(t){a.or[t]=e.keyword}),p("".concat(this.model,"/search"),a).then(function(t){e.list=t.data})},is_update:function(){return!!this.current.id}}},Qe=Ge,Ue=Object(N["a"])(Qe,It,Rt,!1,null,null,null),Fe=Ue.exports,Ze={mounted:function(){this.read(),this.set_validator_attr({name:"分类名"})},components:{Nav:V,AdminNav:De},data:function(){return{model:"category",searchable:["name"]}},methods:{},mixins:[Fe]},Te=Ze,Ve=(a("wgSs"),Object(N["a"])(Te,$e,Ne,!1,null,"6a49b1e2",null)),ze=Ve.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"container "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("AdminNav")],1),a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"content card"},[a("h2",[t._v("品种列表")]),a("div",{staticClass:"tool-bar"},[a("button",{on:{click:function(e){t.show_form=!t.show_form}}},[t._v("创建品种")])]),a("div",{staticClass:"error-list"},t._l(t.errors.items,function(e){return a("div",{staticClass:"error"},[t._v(t._s(e.msg))])})),a("form",{on:{submit:function(e){t.search(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("搜索")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"搜关键字",autofocus:""},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("button",{attrs:{type:"submit",hidden:""}},[t._v("搜")])]),t.show_form?a("form",{on:{submit:function(e){t.cou(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("品种名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.name,expression:"current.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.current.name},on:{input:function(e){e.target.composing||t.$set(t.current,"name",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("分类")]),a("Dropdown",{attrs:{list:t.category_list,onSelect:t.set_category_id}})],1),a("div",{staticClass:"input-control"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v("提交")]),a("button",{attrs:{type:"button"},on:{click:function(e){t.show_form=!1}}},[t._v("取消")])])])]):t._e(),a("div",{staticClass:"table"},[a("table",[t._m(0),a("tbody",t._l(t.list,function(e){return a("tr",{key:e.username},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.$category?e.$category.name:"-"))]),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",on:{click:function(a){t.set_current(e)}}},[t._v("编辑")]),a("button",{staticClass:"btn-small",on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])])}))])]),a("Pagination",{attrs:{totalCount:t.total,limit:t.limit,onChange:t.on_page_change}})],1)])])])],1)},Ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("品种")]),a("th",[t._v("分类")]),a("th",[t._v("操作")])])}],Xe={mounted:function(){this.read_category(),this.set_validator_attr({name:"分类名"})},components:{Dropdown:dt},data:function(){return{category_list:[],model:"breed",searchable:["name"],with:[{model:"category",relation:"has_one"}]}},methods:{read_category:function(){var t=this;p("category/read").then(function(e){t.category_list=e.data})},set_category_id:function(t){this.$set(this.current,"category_id",t.id)}},mixins:[Fe]},He=Xe,ta=(a("N7nn"),Object(N["a"])(He,Be,Ye,!1,null,"5cbbc9b0",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"container "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("AdminNav")],1),a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"content card"},[a("h2",[t._v("用户列表")]),a("div",{staticClass:"tool-bar"},[a("button",{on:{click:function(e){t.show_form=!t.show_form}}},[t._v("创建用户")])]),a("div",{staticClass:"error-list"},t._l(t.errors.items,function(e){return a("div",{staticClass:"error"},[t._v(t._s(e.msg))])})),a("form",{on:{submit:function(e){t.search(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("搜索")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"搜用户名/手机/邮箱",autofocus:""},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("button",{attrs:{type:"submit",hidden:""}},[t._v("搜")])]),t.show_form?a("form",{on:{submit:function(e){t.cou(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("用户名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.username,expression:"current.username"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.current.username},on:{input:function(e){e.target.composing||t.$set(t.current,"username",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("电话")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.phone,expression:"current.phone"}],attrs:{type:"string"},domProps:{value:t.current.phone},on:{input:function(e){e.target.composing||t.$set(t.current,"phone",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("邮箱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.email,expression:"current.email"}],attrs:{type:"text"},domProps:{value:t.current.email},on:{input:function(e){e.target.composing||t.$set(t.current,"email",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.password,expression:"current.password"}],attrs:{type:"password"},domProps:{value:t.current.password},on:{input:function(e){e.target.composing||t.$set(t.current,"password",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v("提交")]),a("button",{attrs:{type:"button"},on:{click:function(e){t.show_form=!1}}},[t._v("取消")])])])]):t._e(),a("div",{staticClass:"table"},[a("table",[t._m(0),a("tbody",t._l(t.list,function(e){return a("tr",[a("td",[t._v(t._s(e.username))]),a("td",[t._v(t._s(e.phone||"-"))]),a("td",[t._v(t._s(e.email||"-"))]),a("td"),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",on:{click:function(a){t.set_current(e)}}},[t._v("编辑")]),a("button",{staticClass:"btn-small",on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])])}))])]),a("Pagination",{attrs:{totalCount:t.total,limit:t.limit,onChange:t.on_page_change}})],1)])])])],1)},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("用户名")]),a("th",[t._v("电话")]),a("th",[t._v("邮箱")]),a("th",[t._v("收货地址")]),a("th",[t._v("操作")])])}],na={mounted:function(){this.read(),this.set_validator_attr({name:"用户名"})},data:function(){return{model:"user",searchable:["username","phone","email"]}},methods:{},mixins:[Fe]},ra=na,ia=(a("5V9/"),Object(N["a"])(ra,aa,sa,!1,null,"2dbd1911",null)),oa=ia.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"container "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("AdminNav")],1),a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"content card"},[a("h2",[t._v("订单列表")]),a("div",{staticClass:"tool-bar"},[a("button",{on:{click:function(e){t.show_form=!t.show_form}}},[t._v("创建订单")])]),a("div",{staticClass:"error-list"},t._l(t.errors.items,function(e){return a("div",{staticClass:"error"},[t._v(t._s(e.msg))])})),a("form",{on:{submit:function(e){t.search(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("搜索")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"搜关键字",autofocus:""},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("button",{attrs:{type:"submit",hidden:""}},[t._v("搜")])]),a("div",{staticClass:"table"},[a("table",[t._m(0),a("tbody",t._l(t.list,function(e){return a("tr",[a("td",[t._v(t._s(e.oid||"-"))]),a("td",[t._v(t._s(e.sum||0))]),a("td",[t._v(t._s(e.momo||"-"))]),a("td",[t._v(t._s(e.product_info))]),a("td",[t._v(t._s(e._paid?"是":"否"))]),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",on:{click:function(a){t.set_current(e)}}},[t._v("编辑")]),a("button",{staticClass:"btn-small",on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])])}))])]),a("Pagination",{attrs:{totalCount:t.total,limit:t.limit,onChange:t.on_page_change}})],1)])])])],1)},la=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("订单号")]),a("th",[t._v("总价")]),a("th",[t._v("备注")]),a("th",[t._v("产品信息")]),a("th",[t._v("已付款")]),a("th",[t._v("操作")])])}],ua={mounted:function(){},data:function(){return{user_list:[],model:"order",searchable:["oid"]}},methods:{},mixins:[Fe]},da=ua,va=(a("66Yi"),Object(N["a"])(da,ca,la,!1,null,"22a4882f",null)),pa=va.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Nav"),a("div",{staticClass:"container "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("AdminNav")],1),a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"content card"},[a("h2",[t._v("宠物列表")]),a("div",{staticClass:"tool-bar"},[a("button",{on:{click:function(e){t.show_form=!t.show_form}}},[t._v("创建宠物")])]),a("div",{staticClass:"error-list"},t._l(t.errors.items,function(e){return a("div",{staticClass:"error"},[t._v(t._s(e.msg))])})),a("form",{on:{submit:function(e){t.search(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("搜索")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:"搜关键字",autofocus:""},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("button",{attrs:{type:"submit",hidden:""}},[t._v("搜")])]),t.show_form?a("form",{on:{submit:function(e){t.cou(e)}}},[a("div",{staticClass:"input-control"},[a("label",[t._v("宠物名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.title,expression:"current.title"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.current.title},on:{input:function(e){e.target.composing||t.$set(t.current,"title",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("价格")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.price,expression:"current.price"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.current.price},on:{input:function(e){e.target.composing||t.$set(t.current,"price",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("封面地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.cover_url,expression:"current.cover_url"}],attrs:{type:"url",autocomplete:"off"},domProps:{value:t.current.cover_url},on:{input:function(e){e.target.composing||t.$set(t.current,"cover_url",e.target.value)}}})]),a("div",{staticClass:"input-control"},[a("label",[t._v("分类")]),a("Dropdown",{attrs:{list:t.category_list,onSelect:t.set_category_id}})],1),a("div",{staticClass:"input-control"},[a("label",[t._v("品种")]),a("Dropdown",{attrs:{list:t.breed_list,onSelect:t.set_breed_id}})],1),a("div",{staticClass:"input-control"},[a("label",[t._v("接种疫苗\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.character,expression:"current.character"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.character)?t._i(t.current.character,null)>-1:t.current.character},on:{change:function(e){var a=t.current.character,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"character",a.concat([r])):i>-1&&t.$set(t.current,"character",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"character",n)}}})])]),a("div",{staticClass:"input-control"},[a("label",[t._v("轮播推广\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.hot,expression:"current.hot"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.hot)?t._i(t.current.hot,null)>-1:t.current.hot},on:{change:function(e){var a=t.current.hot,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"hot",a.concat([r])):i>-1&&t.$set(t.current,"hot",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"hot",n)}}})])]),a("div",{staticClass:"input-control"},[a("label",[t._v("遗传病\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.disease,expression:"current.disease"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.disease)?t._i(t.current.disease,null)>-1:t.current.disease},on:{change:function(e){var a=t.current.disease,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"disease",a.concat([r])):i>-1&&t.$set(t.current,"disease",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"disease",n)}}})])]),a("div",{staticClass:"input-control"},[a("label",[t._v("纯种\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.pure_breed,expression:"current.pure_breed"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.pure_breed)?t._i(t.current.pure_breed,null)>-1:t.current.pure_breed},on:{change:function(e){var a=t.current.pure_breed,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"pure_breed",a.concat([r])):i>-1&&t.$set(t.current,"pure_breed",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"pure_breed",n)}}})])]),a("div",{staticClass:"input-control"},[a("label",[t._v("已绝育\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.neuter,expression:"current.neuter"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.neuter)?t._i(t.current.neuter,null)>-1:t.current.neuter},on:{change:function(e){var a=t.current.neuter,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"neuter",a.concat([r])):i>-1&&t.$set(t.current,"neuter",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"neuter",n)}}})])]),a("div",{staticClass:"input-control"},[a("label",[t._v("性别\n                男"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.sex,expression:"current.sex"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.sex)?t._i(t.current.sex,null)>-1:t.current.sex},on:{change:function(e){var a=t.current.sex,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"sex",a.concat([r])):i>-1&&t.$set(t.current,"sex",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"sex",n)}}}),t._v(" 女\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.current.sex,expression:"current.sex"}],staticClass:"dib ",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current.sex)?t._i(t.current.sex,null)>-1:t.current.sex},on:{change:function(e){var a=t.current.sex,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.current,"sex",a.concat([r])):i>-1&&t.$set(t.current,"sex",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.current,"sex",n)}}})])]),a("div",{staticClass:"input-control"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v("提交")]),a("button",{attrs:{type:"button"},on:{click:function(e){t.show_form=!1}}},[t._v("取消")])])])]):t._e(),a("div",{staticClass:"table"},[a("table",[t._m(0),a("tbody",t._l(t.list,function(e){return a("tr",{key:e.username},[a("td",[e.title?a("router-link",{attrs:{to:"/new_order?pet_id="+e.id}},[t._v("\n                      "+t._s(e.title)+"\n                    ")]):a("span",[t._v("-")])],1),a("td",[t._v(t._s(e.price))]),a("td",[t._v("\n                     "+t._s(e.category)+"\n\n                     ")]),a("td",[t._v(t._s(e.$category&&e.$category.id||"-"))]),a("td",[t._v(t._s(e.$category&&e.$category.name||"-"))]),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-small",on:{click:function(a){t.set_current(e)}}},[t._v("编辑")]),a("button",{staticClass:"btn-small",on:{click:function(a){t.remove(e.id)}}},[t._v("删除")])])])])}))])]),a("Pagination",{attrs:{totalCount:t.total,limit:t.limit,onChange:t.on_page_change}})],1)])])])],1)},_a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("宠物名")]),a("th",[t._v("价格")]),a("th",[t._v("分类")]),a("th",[t._v("品种")]),a("th",[t._v("操作")])])}],ha=a("oyJW"),fa={mounted:function(){this.read_category(),this.read_breed(),this.set_validator_attr({name:"品种名"})},components:{Dropdown:dt},data:function(){return Object(ha["a"])({current:{preview:[]},category_list:[],breed_list:[],model:"pet",searchable:["title"],with:[{model:"category",relation:"has_one"}]},"with",[{model:"breed",relation:"has_one"}])},methods:{read_category:function(){var t=this;p("category/read").then(function(e){t.category_list=e.data,console.log(t.category_list)})},read_breed:function(){var t=this;p("breed/read").then(function(e){t.breed_list=e.data,console.log(t.breed_list)})},set_category_id:function(t){console.log(t.id),this.$set(this.current,"category_id",t.id)},set_breed_id:function(t){this.$set(this.current,"breed_id",t.id)}},mixins:[Fe]},ga=fa,ba=(a("FfIg"),Object(N["a"])(ga,ma,_a,!1,null,"10bb0f80",null)),Ca=ba.exports;window.$=window.jQuery=R.a,s["a"].use(W["a"]),s["a"].use(D["a"],{locale:"zh_CN"}),s["a"].use(M.a),s["a"].config.productionTip=!1;var ya=new W["a"]({routes:[{path:"/",component:st,meta:{title:"首页 - AWWW"}},{path:"/detail/:id",component:Nt,meta:{title:"详情 -AWWW "}},{path:"/Search",component:yt,meta:{title:"搜索 - AWWW"}},{path:"/new_order/:pet_id?",component:Wt,meta:{title:"订单 - AWWW"}},{path:"/pay/:oid",component:Qt,meta:{title:"支付 - AWWW"}},{path:"/Login",component:zt,meta:{title:"登录 - AWWW"}},{path:"/Signup",component:ee,meta:{title:"注册 - AWWW"}},{path:"/me",component:oe,children:[{path:"order",component:pe,meta:{title:"我的订单 - AWWW"}},{path:"setting",component:be,meta:{title:"我的设置 - AWWW"}}]},{path:"/admin",component:Ae,children:[{path:"category",component:ze,meta:{title:"分类管理 - AWWW"}},{path:"breed",component:ea,meta:{title:"品种管理 - AWWW"}},{path:"user",component:oa,meta:{title:"用户管理 - AWWW"}},{path:"order",component:pa,meta:{title:"订单管理 - AWWW"}},{path:"pet",component:Ca,meta:{title:"宠物管理- AWWW"}}]}]});ya.beforeEach(function(t,e,a){var s=t.fullPath.startsWith("/admin/"),n=t.fullPath.startsWith("/publish");return n&&!U.logged_in()?(alert("请先登录，如果没有账号请先注册；管理员账号如下，用户名：admin，密码：yoyoyo"),void a("/login")):s&&!U.is_admin()?(alert("请先使用管理员账号登录，用户名：admin,密码：yoyoyo"),void a("/login")):(a(),void(document.title=t.meta.title))}),new s["a"]({router:ya,render:function(t){return t(q)}}).$mount("#app")},YRh5:function(t,e,a){},ZeV4:function(t,e,a){t.exports=a.p+"img/alipay.afdf0c73.png"},Ziuk:function(t,e,a){"use strict";var s=a("UiXD"),n=a.n(s);n.a},ajls:function(t,e,a){},cFuJ:function(t,e,a){},cLVS:function(t,e,a){},fLbn:function(t,e,a){},"gU+5":function(t,e,a){},i7It:function(t,e,a){"use strict";var s=a("cFuJ"),n=a.n(s);n.a},juAF:function(t,e,a){"use strict";var s=a("Sun4"),n=a.n(s);n.a},kV7I:function(t,e,a){},ncdz:function(t,e,a){},oJI0:function(t,e,a){},sMeU:function(t,e,a){},sgEr:function(t,e,a){t.exports=a.p+"img/square-1.196bad93.jpg"},"v+B1":function(t,e,a){},wgSs:function(t,e,a){"use strict";var s=a("7K6e"),n=a.n(s);n.a},"ydb+":function(t,e,a){"use strict";var s=a("cLVS"),n=a.n(s);n.a}});
//# sourceMappingURL=app.dd67eafb.js.map